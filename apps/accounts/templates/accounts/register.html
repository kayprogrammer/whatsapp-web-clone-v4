{% extends "accounts/index.html" %}
{% block title %}Register{% endblock %}
{% block content %}
	<h1 style="font-weight: bold;">WWC V4 SIGNUP FORM</h1>
	<div class="main-agileinfo">
		<div class="agileits-top">
			<form method="post" class="register-form">
				{{ form.csrf_token }}
				{{form.name(placeholder="Name")}}
				<p class="name-error"></p>
				{{form.email(placeholder="Email Address")}}
				<p class="email-error"></p>
				{{form.phone(placeholder="Phone Number")}}
				<p class="phone-error"></p>
				{{form.tz(placeholder="Timezone")}}
				<p class="tz-error"></p>
				{{form.password(placeholder="Password")}}
				<p class="password1-error"></p>
				{{form.confirm(placeholder="Confirm Password")}}
				<p class="password2-error"></p>

				<div class="wthree-text" >
					<label class="anim">
						{{form.terms_agreement(class="checkbox")}}
						<span>I Agree To The Terms & Conditions</span>
					</label>
					<div class="clear"> </div>
				</div>
				<input id="submit-btn" type="submit" value="SIGNUP">
			</form>
			<p>Already have an Account? <a href="{{url_for('accounts_router.login')}}"> Login Now!</a></p>
		</div>
	</div>
{% endblock %}

{% block js %}
	<script type="text/javascript">
		window.onload = function(){
            
            var localtz = Intl.DateTimeFormat().resolvedOptions().timeZone // Get local timezone
			var select_element = document.getElementById('tz') // Get select element
            var options = Array.from(document.querySelectorAll('option')); 
            try{
                var optionMatch = options.find(el => {
                    return el.textContent == localtz;
                });

                select_element.value = optionMatch.value
            }catch{
                select_element.value = ''                
            }
        }

    </script>
{% endblock %}